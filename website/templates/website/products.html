{% extends "website/base.html" %}
{% load static %}

{% block page_css %}
<link rel="stylesheet" href="{% static 'website/css/products.css' %}">
{% endblock %}

{% block content %}

<!-- Hero Section -->
<section class="products-hero">
  <div class="products-hero-content">
    <h1 class="products-hero-title">Our Product Range</h1>
    <p class="products-hero-subtitle">
      Premium Quality Membrane Switches, Keypads & Industrial Labels
    </p>
  </div>
</section>

<!-- Category Filter Bar -->
{% if categories %}
<section class="category-filter-bar">
  <div class="container">
    <div class="filter-wrapper">
      <span class="filter-label">Filter by Category:</span>
      <div class="filter-buttons">
        <a href="{% url 'products' %}" 
           class="filter-btn {% if not selected_category %}active{% endif %}">
          All Products
        </a>
        
        {% for category in categories %}
          <a href="{% url 'products_by_category' category.slug %}"
             class="filter-btn {% if selected_category == category %}active{% endif %}">
            {{ category.name }}
          </a>
        {% endfor %}
      </div>
    </div>
  </div>
</section>
{% endif %}

<!-- Products Section -->
<section class="products-showcase">
  <div class="container">
    
    {% if selected_category %}
    <div class="section-header">
      <h2 class="section-title">{{ selected_category.name }}</h2>
      <p class="section-subtitle">{{ selected_category.description|default:"Explore our premium quality products" }}</p>
    </div>
    {% else %}
    <div class="section-header">
      <h2 class="section-title">All Products</h2>
      <p class="section-subtitle">Precision-engineered solutions for diverse industrial applications</p>
    </div>
    {% endif %}

    <div class="products-grid">
      {% for product in products %}
        <div class="product-card">
          <div class="product-image-wrapper">
            <img src="{{ product.image.url }}" alt="{{ product.name }}" class="product-image">
            <div class="product-overlay">
              <a href="{% url 'product_detail' product.slug %}" class="quick-view-btn">
                Quick View
              </a>
            </div>
          </div>

          <div class="product-content">
            <h3 class="product-name">{{ product.name }}</h3>
            <p class="product-description">{{ product.short_description|truncatewords:15 }}</p>
            
            <div class="product-footer">
              <a href="{% url 'product_detail' product.slug %}" class="product-btn">
                View Details
                <span class="btn-arrow">â†’</span>
              </a>
            </div>
          </div>
        </div>
      {% empty %}
        <div class="no-products">
          <div class="no-products-icon">ðŸ“¦</div>
          <h3>No Products Available</h3>
          <p>Check back soon for new additions to our catalog</p>
          <a href="{% url 'products' %}" class="back-btn">Browse All Products</a>
        </div>
      {% endfor %}
    </div>

  </div>
</section>

<!-- Quality Assurance Banner -->
<section class="quality-banner">
  <div class="container">
    <div class="quality-content">
      <h3>ISO 9001:2015 Certified Quality</h3>
      <p>All products manufactured under strict quality standards with 20+ years of expertise</p>
    </div>
  </div>
</section>

{% endblock %}